<ion-header [translucent]="true" class="app-header">
  <ion-toolbar>
    <ion-title>Empresa</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="profile-content">
  <!-- HERO -->
  <div class="hero">
    <img class="hero-bg" [src]="'https://picsum.photos/800/450?random=3'" alt="cover" />
    <div class="hero-overlay"></div>

    <div class="hero-bottom">
      <ion-avatar class="avatar">
        <img alt="Company logo" [src]="profile?.img || 'https://picsum.photos/200/200?random=5'" />
      </ion-avatar>

      <div class="name-block">
        <h1 class="title">{{ profile?.name || company.name }}</h1>
        <p class="subtitle">{{ company.type }}</p>
      </div>
    </div>
  </div>

  <!-- INFO PRINCIPAL -->
  <section class="info">
    <p class="description" *ngIf="profile?.description">{{ profile?.description }}</p>

    <div class="chips">
      <div class="chip" *ngIf="profile?.phone">
        <ion-icon name="call-outline"></ion-icon>
        <span>{{ profile?.phone }}</span>
      </div>

      <a class="chip"
         *ngIf="profile?.website || company.url"
         [href]="profile?.website || company.url"
         target="_blank" rel="noopener">
        <ion-icon name="globe-outline"></ion-icon>
        <span>{{ profile?.website || company.url }}</span>
      </a>

      <div class="chip" *ngIf="company.city">
        <ion-icon name="location-outline"></ion-icon>
        <span>{{ company.city }}</span>
      </div>
    </div>
  </section>

  <!-- EQUIPO -->
  <section class="highlights" *ngIf="stories">
    <h2 class="section-title">Equipo</h2>
    <div class="stories">
      <div class="story" *ngFor="let e of stories">
        <ion-avatar>
          <img [src]=" 'https://picsum.photos/100/100?random=5'" alt="story" />
        </ion-avatar>
        <p>{{ e?.title }}</p>
      </div>
    </div>
  </section>

  <!-- SEGMENTO STICKY -->
  <div class="segment-sticky">
    <ion-segment [(ngModel)]="selectedTab" class="tab-segment" mode="md">
      <ion-segment-button value="cita">
        <ion-icon name="calendar-outline"></ion-icon>
        <ion-label>Citas</ion-label>
      </ion-segment-button>
      <ion-segment-button value="mapa">
        <ion-icon name="map-outline"></ion-icon>
        <ion-label>Mapa</ion-label>
      </ion-segment-button>
    </ion-segment>
  </div>

  <!-- CONTENIDO TABS -->
  <div [ngSwitch]="selectedTab" class="tab-content">
    <div *ngSwitchCase="'cita'">
      <app-appointment-schedule></app-appointment-schedule>
    </div>
    <div *ngSwitchCase="'mapa'" class="map-box">
      <ion-icon name="map-outline"></ion-icon>
      <p><strong>Aquí irá la vista de mapa</strong></p>
    </div>
  </div>
</ion-content>
