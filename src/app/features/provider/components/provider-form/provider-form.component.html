<div class="profile-content">
  <ion-card class="input-card">
    <ion-card-content>
      <div class="container">
        <h1 class="heading">🏢 Registrar Proveedor</h1>
        <p class="para">Ingrese la información del proveedor</p>

        <form [formGroup]="providerForm" (ngSubmit)="saveProvider()">
          <!-- Radio para seleccionar si presta servicios -->
          <div *ngIf="independent">
            <fac-radio
              label="Presta servicios"
              icon="construct-outline"
              [options]="contributor"
              formControlName="independent">
            </fac-radio>
          </div>

          <!-- Inputs básicos -->
          <fac-input formControlName="name" label="Nombre" type="text"
            placeholder="Ingrese el nombre del proveedor" icon="person"></fac-input>
          <fac-input formControlName="email" label="Correo Electrónico" type="email"
            placeholder="ejemplo@correo.com" icon="mail"></fac-input>
          <fac-input formControlName="phone" label="Teléfono" type="tel"
            placeholder="+57 321 1234567" icon="call"></fac-input>
          <fac-input formControlName="img" label="Imagen URL" type="url"
            placeholder="https://example.com/logo.png" icon="image"></fac-input>
          <fac-input formControlName="website" label="Sitio Web" type="url"
            placeholder="https://example.com" icon="globe"></fac-input>

          <!-- Condicionales para empresa -->
          <div *ngIf="!providerForm.get('independent')?.value">
            <fac-input formControlName="nit" label="NIT" type="number"
              placeholder="Ingrese el NIT" icon="business"></fac-input>
            <fac-input formControlName="invima" label="Invima"
              placeholder="Ingrese el código Invima" icon="clipboard"></fac-input>
            <fac-input formControlName="companyIdentifier" label="Identificador de Empresa"
              placeholder="Ingrese el identificador" icon="pricetag"></fac-input>
          </div>

          <fac-input formControlName="logoUrl" label="Logo URL" type="url"
            placeholder="https://example.com/logo.png" icon="image"></fac-input>

          <fac-textarea formControlName="description" label="Descripción"
            placeholder="Ingrese una descripción" icon="document-text"></fac-textarea>

          <!-- Selector de servicios -->
          <fac-select 
            label="Servicios"
            title="Seleccione Servicios"
            [items]="selectModal"
            [labelField]="'name'"
            [valueField]="'id'"
            [selectedItems]="providerForm.get('categories')?.value"
            [selectModal]="true"
            (selectionChange)="onServicesChanged($event)"
            formControlName="categories">
          </fac-select>

          <!-- Botón de registro -->
          <fac-btn 
            label="Registrar" 
            color="primary" 
            customClass="primary-btn" 
            expand="block"
            type="submit"
            (clicked)="saveProvider()">
          </fac-btn>
        </form>
      </div>
    </ion-card-content>
  </ion-card>
</div>
