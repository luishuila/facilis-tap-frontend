<fieldset class="fac-field" [class.has-error]="hasError" [class.disabled]="disabled">
  <legend *ngIf="label">{{ label }}</legend>

  <!-- BotÃ³n estilo input -->
  <ion-item
    class="field-item"
    lines="none"
    button
    (click)="openModal()"
    [class.active]="isOpen"
  >
    <ion-icon *ngIf="icon" slot="start" [name]="icon" aria-hidden="true"></ion-icon>
    <ion-label class="value">
      {{ displayValue || placeholder }}
    </ion-label>
    <ion-icon slot="end" name="chevron-forward-outline" class="chev"></ion-icon>
  </ion-item>

  <!-- Mensajes opcionales -->
  <div class="hint-row">
    <ion-note class="helper" *ngIf="!hasError && helperText">{{ helperText }}</ion-note>
    <ion-note class="error" *ngIf="hasError">{{ errorText || defaultError }}</ion-note>
  </div>
</fieldset>

<!-- Modal nativo -->
<ion-modal
  #modal
  [isOpen]="isOpen"
  (didDismiss)="isOpen=false"
  class="date-modal"
>
  <ng-template>
    <ion-header>
      <ion-toolbar>
        <ion-buttons slot="start">
          <ion-button (click)="cancel()">Cancelar</ion-button>
        </ion-buttons>
        <ion-title>{{ label }}</ion-title>
        <ion-buttons slot="end">
          <ion-button (click)="confirm()">OK</ion-button>
        </ion-buttons>
      </ion-toolbar>
    </ion-header>

    <ion-content>
      <ion-datetime
        #dateTime
        [value]="selectedDate || undefined"
        [presentation]="presentation"
        (ionChange)="onDateChange($event)"
        locale="es-ES"
        hourCycle="h23"
      ></ion-datetime>
    </ion-content>
  </ng-template>
</ion-modal>
